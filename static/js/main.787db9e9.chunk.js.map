{"version":3,"sources":["index.js"],"names":["Square","props","className","onClick","value","Board","i","key","classN","this","sqrs","row","j","push","renderSquare","wins","React","Component","Game","state","history","squares","Array","fill","moveNo","xTurn","ascOrd","hist","slice","length","findWinner","setState","concat","status","draw","winner","moves","map","gameState","desc","x","Math","floor","y","jumpTo","handleClick","reversed","reverse","ReactDOM","render","document","getElementById"],"mappings":"iNAIA,SAASA,EAAOC,GACf,OACC,wBACCC,UAAW,UAAYD,EAAMC,UAC7BC,QAASF,EAAME,QAFhB,SAIEF,EAAMG,Q,IAKJC,E,kKACJ,SAAaC,EAAGC,EAAKC,GAAS,IAAD,OAC3B,OACD,cAACR,EAAD,CAECE,UAAaM,EACbJ,MAAOK,KAAKR,MAAMS,KAAKJ,GACvBH,QAAS,kBAAM,EAAKF,MAAME,QAAQG,KAH3BC,K,oBAQT,WAEA,IADA,IAAMG,EAAO,GACJJ,EAAE,EAAGA,EAAE,EAAGA,IAAK,CAEvB,IADA,IAAMK,EAAM,GACHC,EAAE,EAAGA,EAAE,EAAGA,IAClBD,EAAIE,KAAKJ,KAAKK,aAAe,EAAFR,EAAIM,EAAGA,EAAIH,KAAKR,MAAMc,KAAO,EAAFT,EAAIM,GAAI,UAAW,KAE1EF,EAAKG,KAAK,qBAAaX,UAAU,YAAvB,SAAoCS,GAA1BL,IAGnB,OACE,8BACDI,Q,GAxBeM,IAAMC,WA8BpBC,E,kDACJ,WAAYjB,GAAQ,IAAD,8BACnB,cAAMA,IACDkB,MAAQ,CACZC,QAAS,CAAC,CACTC,QAASC,MAAM,GAAGC,KAAK,QAExBC,OAAQ,EACRC,OAAO,EACPC,QAAQ,EACRX,KAAMO,MAAM,GAAGC,MAAK,IATF,E,+CAanB,SAAYjB,GACZ,IAAMqB,EAAOlB,KAAKU,MAAMC,QAAQQ,MAAM,EAAGnB,KAAKU,MAAMK,OAAO,GAErDd,EADOiB,EAAKA,EAAKE,OAAO,GACZR,QAAQO,QACtBb,EAAOO,MAAM,GAAGC,KAAK,MACrBO,EAAWpB,EAAMK,IAASL,EAAKJ,KAEnCI,EAAKJ,GAAMG,KAAKU,MAAMM,MAAQ,IAAK,IACnCK,EAAWpB,EAAMK,GACjBN,KAAKsB,SAAS,CACbX,QAASO,EAAKK,OAAO,CACrBX,QAASX,IAETc,OAAQG,EAAKE,OACbJ,OAAQhB,KAAKU,MAAMM,MACnBV,KAAMA,O,oBAIP,SAAOS,GACPf,KAAKsB,SAAS,CACbP,OAAQA,EACRC,MAAQD,EAAO,IAAO,M,oBAIvB,WAIA,IAJU,IAAD,OACLS,EAAS,YAAcxB,KAAKU,MAAMM,MAAQ,IAAM,KAChDf,EAAOD,KAAKU,MAAMC,QAAQX,KAAKU,MAAMK,QAAQH,QAC7Ca,GAAO,EACF5B,EAAE,EAAGA,EAAE,EAAGA,IAAK,GAAgB,OAAZI,EAAKJ,GAAa,CAAC4B,GAAO,EAAO,MACzDA,IAAMD,EAAS,aACnB,IACME,EAASL,EAAWpB,EADfD,KAAKU,MAAMJ,KAAKa,SAEvBO,IACHF,EAAS,WAAaE,GAGvB,IAAMC,EAAQ3B,KAAKU,MAAMC,QAAQiB,KAAK,SAACC,EAAWd,EAAQG,GACzD,IAAMY,EAAOf,EAAS,WAEtB,IADA,IAAIlB,EAAI,EACDA,EAAE,GACJqB,EAAKH,EAAO,GAAGH,QAAQf,KAAOgC,EAAUjB,QAAQf,GADzCA,KAGZ,IAAIkC,EAAIC,KAAKC,MAAMpC,EAAE,GACjBqC,EAAIrC,EAAE,EACV,MAAM,IAAN,OAAWkC,EAAX,aAAiBG,EAAjB,KAPsB,GAQhB,kBAEN,OACA,6BACC,wBACCzC,UAAcsB,IAAW,EAAKL,MAAMK,OAAU,cAAe,GAC7DrB,QAAS,kBAAM,EAAKyC,OAAOpB,IAF5B,SAIEe,KALMf,MAWV,OACC,sBAAKtB,UAAU,OAAf,UACC,qBAAKA,UAAU,aAAf,SACC,cAACG,EAAD,CACCU,KAAMN,KAAKU,MAAMJ,KACjBL,KAAMD,KAAKU,MAAMC,QAAQX,KAAKU,MAAMK,QAAQH,QAC5ClB,QAAS,SAACG,GAAD,OAAO,EAAKuC,YAAYvC,QAGnC,sBAAKJ,UAAU,YAAf,UACC,8BAAM+B,IACN,wBAAQ9B,QAAS,kBAAM,EAAK4B,SAAS,CAACL,QAAS,EAAKP,MAAMO,UAA1D,SACEjB,KAAKU,MAAMO,OAAS,IAAK,MAE3B,oBAAIoB,UAAWrC,KAAKU,MAAMO,OAA1B,SAAmCjB,KAAKU,MAAMO,OAASU,EAAOA,EAAMW,sB,GAzFtD/B,IAAMC,WAyGzB,SAASa,EAAWT,EAASN,GAE5B,IADA,IAAIL,EAAO,GACFJ,EAAE,EAAGA,EAAE,EAAGA,IAAK,CACvBI,EAAKG,KAAK,IACV,IAAK,IAAID,EAAE,EAAGA,EAAE,EAAGA,IAClBF,EAAKJ,GAAGO,KAAKQ,EAAQ,EAAEf,EAAIM,IAI7B,IAAK,IAAIN,EAAE,EAAGA,EAAE,EAAGA,IAAK,CACvB,GAAII,EAAKJ,GAAG,IAAMI,EAAKJ,GAAG,KAAOI,EAAKJ,GAAG,IAAMI,EAAKJ,GAAG,KAAOI,EAAKJ,GAAG,GAAI,CACzE,IAAK,IAAIM,EAAE,EAAGA,EAAE,EAAGA,IAAKG,EAAO,EAAFT,EAAIM,IAAK,EACtC,OAAOF,EAAKJ,GAAG,GAEhB,GAAII,EAAK,GAAGJ,IAAMI,EAAK,GAAGJ,KAAOI,EAAK,GAAGJ,IAAMI,EAAK,GAAGJ,KAAOI,EAAK,GAAGJ,GAAI,CACzE,IAAK,IAAIM,EAAE,EAAGA,EAAE,EAAGA,IAAKG,EAAO,EAAFH,EAAIN,IAAK,EACtC,OAAOI,EAAK,GAAGJ,IAIjB,GAAII,EAAK,GAAG,IAAMA,EAAK,GAAG,KAAOA,EAAK,GAAG,IAAMA,EAAK,GAAG,KAAOA,EAAK,GAAG,GAAI,CACzE,IAAK,IAAIJ,EAAE,EAAGA,EAAE,EAAGA,IAAKS,EAAO,EAAFT,EAAMA,IAAK,EACxC,OAAOI,EAAK,GAAG,GAEhB,GAAIA,EAAK,GAAG,IAAMA,EAAK,GAAG,KAAOA,EAAK,GAAG,IAAMA,EAAK,GAAG,KAAOA,EAAK,GAAG,GAAI,CACzE,IAAK,IAAIJ,EAAE,EAAGA,EAAE,EAAGA,IAAKS,EAAO,EAAFT,GAAO,EAAEA,KAAM,EAC5C,OAAOI,EAAK,GAAG,GAGhB,OAAO,KApCRsC,IAASC,OACP,cAAC/B,EAAD,IACAgC,SAASC,eAAe,W","file":"static/js/main.787db9e9.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction Square(props) {\n\treturn (\n\t\t<button\n\t\t\tclassName={'square ' + props.className}\n\t\t\tonClick={props.onClick}\n\t\t>\n\t\t\t{props.value}\n\t\t</button>\n\t);\n}\n\nclass Board extends React.Component {\n  renderSquare(i, key, classN) {\n    return (\n\t\t\t<Square\n\t\t\t\tkey = {key}\n\t\t\t\tclassName = {classN}\n\t\t\t\tvalue={this.props.sqrs[i]}\n\t\t\t\tonClick={() => this.props.onClick(i)}\n\t\t\t/>\n\t\t);\n  }\n\n  render() {\n\t\tconst sqrs = []\n\t\tfor (let i=0; i<3; i++) {\n\t\t\tconst row = []\n\t\t\tfor (let j=0; j<3; j++) {\n\t\t\t\trow.push(this.renderSquare(i*3+j, j, (this.props.wins[i*3+j]? 'win-box': '')));\n\t\t\t}\n\t\t\tsqrs.push(<div key={i} className=\"board-row\">{row}</div>);\n\t\t}\n\n    return (\n      <div> \n\t\t\t\t{sqrs}\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thistory: [{\n\t\t\t\tsquares: Array(9).fill(null)\n\t\t\t}],\n\t\t\tmoveNo: 0,\n\t\t\txTurn: true,\n\t\t\tascOrd: true,\n\t\t\twins: Array(9).fill(false),\n\t\t};\n  }\n\n  handleClick(i) {\n\t\tconst hist = this.state.history.slice(0, this.state.moveNo+1);\n\t\tconst curr = hist[hist.length-1];\n\t\tconst sqrs = curr.squares.slice();\n\t\tlet wins = Array(9).fill(null);\n\t\tif (findWinner(sqrs, wins) || sqrs[i]) return;\n\n\t\tsqrs[i] = (this.state.xTurn ? 'X': 'O');\n\t\tfindWinner(sqrs, wins);\n\t\tthis.setState({\n\t\t\thistory: hist.concat({\n\t\t\tsquares: sqrs\n\t\t\t}),\n\t\t\tmoveNo: hist.length,\n\t\t\txTurn: !this.state.xTurn,\n\t\t\twins: wins,\n\t\t});\n  }\n\n  jumpTo(moveNo) {\n\t\tthis.setState({\n\t\t\tmoveNo: moveNo,\n\t\t\txTurn: (moveNo%2) === 0\n\t\t});\n  }\n\n  render() {\n\t\tlet status = 'Player: ' + (this.state.xTurn ? 'X' : 'O');\n\t\tlet sqrs = this.state.history[this.state.moveNo].squares;\n\t\tlet draw = true;\n\t\tfor (let i=0; i<9; i++) if (sqrs[i] === null) {draw = false; break;}\n\t\tif (draw) status = 'Game Draw';\n\t\tlet wins = this.state.wins.slice();\n\t\tconst winner = findWinner(sqrs, wins);\n\t\tif (winner) {\n\t\t\tstatus = 'Winner: ' + winner;\n\t\t}\n\n\t\tconst moves = this.state.history.map( (gameState, moveNo, hist) => {\n\t\t\tconst desc = moveNo ? function(){\n\t\t\tlet i = 0;\n\t\t\tfor (; i<9; i++) {\n\t\t\t\tif (hist[moveNo-1].squares[i] !== gameState.squares[i]) break;\n\t\t\t}\n\t\t\tlet x = Math.floor(i/3);\n\t\t\tlet y = i%3;\n\t\t\treturn `(${x}, ${y})`;\n\t\t\t}() : 'Go to beginning';\n\n\t\t\treturn (\n\t\t\t<li key={moveNo}>\n\t\t\t\t<button\n\t\t\t\t\tclassName = {(moveNo === this.state.moveNo) ? 'selected-li': ''}\n\t\t\t\t\tonClick={() => this.jumpTo(moveNo)}\n\t\t\t\t>\n\t\t\t\t\t{desc}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"game\">\n\t\t\t\t<div className=\"game-board\">\n\t\t\t\t\t<Board \n\t\t\t\t\t\twins={this.state.wins}\n\t\t\t\t\t\tsqrs={this.state.history[this.state.moveNo].squares}\n\t\t\t\t\t\tonClick={(i) => this.handleClick(i)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"game-info\">\n\t\t\t\t\t<div>{status}</div>\n\t\t\t\t\t<button onClick={() => this.setState({ascOrd: !this.state.ascOrd})}>\n\t\t\t\t\t\t{this.state.ascOrd ? '^': 'v'}\n\t\t\t\t\t</button>\n\t\t\t\t\t<ol reversed={!this.state.ascOrd}>{this.state.ascOrd ? moves: moves.reverse()}</ol>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\n\n\nfunction findWinner(squares, wins) {\n\tlet sqrs = [];\n\tfor (let i=0; i<3; i++) {\n\t\tsqrs.push([]);\n\t\tfor (let j=0; j<3; j++) {\n\t\t\tsqrs[i].push(squares[3*i + j]);\n\t\t}\n\t}\n\n\tfor (let i=0; i<3; i++) {\n\t\tif (sqrs[i][0] && sqrs[i][0] === sqrs[i][1] && sqrs[i][0] === sqrs[i][2]) {\n\t\t\tfor (let j=0; j<3; j++) wins[i*3+j] = true;\n\t\t\treturn sqrs[i][0];\n\t\t}\n\t\tif (sqrs[0][i] && sqrs[0][i] === sqrs[1][i] && sqrs[0][i] === sqrs[2][i]) {\n\t\t\tfor (let j=0; j<3; j++) wins[j*3+i] = true;\n\t\t\treturn sqrs[0][i];\n\t\t}\n\t}\n\n\tif (sqrs[0][0] && sqrs[0][0] === sqrs[1][1] && sqrs[0][0] === sqrs[2][2]) {\n\t\tfor (let i=0; i<3; i++) wins[i*3 + i] = true;\n\t\treturn sqrs[0][0];\n\t}\n\tif (sqrs[0][2] && sqrs[0][2] === sqrs[1][1] && sqrs[0][2] === sqrs[2][0]) {\n\t\tfor (let i=0; i<3; i++) wins[i*3 + (2-i)] = true;\n\t\treturn sqrs[0][2];\n\t}\n\n\treturn null;\n}\n"],"sourceRoot":""}